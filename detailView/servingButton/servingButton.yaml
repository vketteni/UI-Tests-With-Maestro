appId: com.kptncook.app.kptncook
---
- launchApp

# Navigate into the flipper
# - tapOn:
#     id: "com.kptncook.app.kptncook:id/flipperTabFragment"

# Navigate into a recipe from the flipper
- tapOn:
    id: "com.kptncook.app.kptncook:id/fragment_recipe_iv_cover"

# Swipe down until serving segment is visible
- repeat:
    times: 2
    commands:
        - swipe:
            start: 100, 400
            end: 100, 200
            duration: 50

# Save portion size 
- copyTextFrom:
    id: "com.kptncook.app.kptncook:id/tvPortionsValue"
- evalScript: ${output.portionSize = maestro.copiedText}

# Decrease portion size
- tapOn:
    id: "com.kptncook.app.kptncook:id/btnPortionsDown"

# Assert portion size has decreased 
- copyTextFrom:
    id: "com.kptncook.app.kptncook:id/tvPortionsValue"
- assertTrue: ${output.portionSize > maestro.copiedText}

# Increased portion size (by two)
- repeat:
    times: 2
    commands:
        - tapOn:
            id: "com.kptncook.app.kptncook:id/btnPortionsUp"

# Assert portion size has increased
- copyTextFrom:
    id: "com.kptncook.app.kptncook:id/tvPortionsValue"
- assertTrue: ${output.portionSize < maestro.copiedText}




