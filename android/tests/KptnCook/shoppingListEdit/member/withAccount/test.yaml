appId: com.kptncook.app.kptncook
env:
  LIST_INDEX: 0
---
# Login
- runFlow:
      file: /Users/vincentketteniss/UITests-KC/android/tests/KptnCook/profile/withoutAccount/login/email/test.yaml
      env:
        EMAIL: "vincent+testui@kptncook.com"
        PASSWORD: "testing"

# Setup
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/navbar/asserts/navbarIsVisible.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/navbar/actions/tapShoppingTab.yaml

- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/shopping/asserts/isVisible.yaml

- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/shopping/asserts/emptyBackground/notVisible.yaml


# Save shopping list title
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/shopping/actions/saveTitle.yaml
    env:
      INDEX: "${ LIST_INDEX }"

# Add friend inside list edit via email
- runFlow:
    file:  /Users/vincentketteniss/UITests-KC/android/views/KptnCook/shopping/actions/tapList.yaml
    env:
      INDEX: "${ LIST_INDEX }"
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/shoppingListDetail/actions/edit/tapEdit.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/shoppingListEdit/actions/members/tapAddFriend.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/shoppingListEdit/asserts/members/inviteOverlay/isVisible.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/shoppingListEdit/actions/members/inviteOverlay/tapEmail.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/shoppingListEdit/actions/members/inviteOverlay/tapEmailApp.yaml
    env:
      EMAIL_APP: "Gmail"

# Send invite email
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/Gmail/email/compose/receiver/inputReceiver.yaml
    env:
      EMAIL: ${ output.emails.friend }
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/Gmail/email/compose/tapSend.yaml

# Change account
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/tests/KptnCook/settings/account/logout/test.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/tests/KptnCook/profile/withoutAccount/login/email/test.yaml
    env:
      EMAIL: "vincent+testui+friend@kptncook.com"
      PASSWORD: "testing"

# Open invite via gmail
- launchApp:
    appId: "com.google.android.gm"
    clearState: true
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/settings/actions/account/deletion/gmail/welcomeTour/continueWelcomeTour1.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/settings/actions/account/deletion/gmail/welcomeTour/continueWelcomeTour2.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/settings/actions/account/deletion/gmail/welcomeTour/allowPermission.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/settings/actions/account/deletion/gmail/welcomeTour/closeStartDialog.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/settings/asserts/account/deletion/gmail/inbox/isDisplayed.yaml
- runFlow:
    file:

- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/Gmail/sidebar/tapDisplayAll.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/Gmail/inbox/selectEmail.yaml
    env:
      INDEX: 0
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/Gmail/email/read/sharingLink/tapLink.yaml
