appId: com.kptncook.app.kptncook
# This flow tests correct behaviour of collection button when logged into an account
---
# Setup
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/setup/KptnCook/freeUser-setup.yaml

# Go to flipper # Save recipe title # Go to recipe detail view
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/navbar/actions/tapFlipperTab.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/flipper/actions/saveRecipeTitle.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/flipper/actions/tapRecipe.yaml

# Tap collection button # Add to new collection # Create new collection # Leave menu
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/recipeDetail/actions/addToCollection/tapCollectionButton.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/recipeDetail/actions/addToCollection/collectionMenu/addToNewCollection.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/recipeDetail/actions/addToCollection/collectionMenu/createNewCollection.yaml
    env:
      COLLECTION_NAME: "user-collection"
- runFlow:
      file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/recipeDetail/actions/addToCollection/collectionMenu/closeMenu.yaml

# Go to favorites # Go to user collection # Assert titles equal # TODO: Refactor title comparison into assertVisible
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/navbar/actions/tapFavoritesTab.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/favorites/actions/collection/tapCollection.yaml
    env:
      INDEX: 2
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/views/KptnCook/collections/asserts/savedRecipeTitle/isEqual.yaml
    env:
      INDEX: 0



