appId: com.kptncook.app.kptncook
---
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/setup/KptnCook/userStatus/free/freeUserSetup.yaml
- runScript: /Users/vincentketteniss/UITests-KC/.localizations/android/EN/output.js

# Go to shopping # When List is visible delete List
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/subflows/KptnCook/navbar/actions/tapShoppingTab.yaml
- repeat:
    while:
      notVisible: ${ output.strings.shopping_empty_state_title }
    commands:
    - runFlow:
        file: /Users/vincentketteniss/UITests-KC/android/tests/KptnCook/shopping/shoppingList/edit/delete/shopping-shoppingList-edit-delete-freeUserTest.yaml
        env:
          INDEX: 0


# Setup
- runScript:
    file: /Users/vincentketteniss/UITests-KC/.localizations/Android/EN/output.js
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/subflows/KptnCook/navbar/asserts/navbarIsVisible.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/subflows/KptnCook/navbar/actions/tapShoppingTab.yaml
- runFlow:
    file: /Users/vincentketteniss/UITests-KC/android/subflows/KptnCook/shoppingList/asserts/isVisible.yaml

# Delete lists until empty shopping background is visible
- repeat:
    while:
      notVisible: ${ output.strings.shopping_empty_state_title }
    commands:
      - runFlow:
          file: /Users/vincentketteniss/UITests-KC/android/subflows/KptnCook/shoppingList/actions/tapList.yaml
          env:
            INDEX: 0
      - runFlow:
          file: /Users/vincentketteniss/UITests-KC/android/subflows/KptnCook/shoppingListListDetail/actions/edit/tapEdit.yaml
      - runFlow:
          file: /Users/vincentketteniss/UITests-KC/android/subflows/KptnCook/shoppingListListEdit/actions/delete/tapDelete.yaml
      - runFlow:
          file: /Users/vincentketteniss/UITests-KC/android/subflows/KptnCook/shoppingListListEdit/actions/delete/alert/tapConfirm.yaml